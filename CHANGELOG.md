# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html),
and is generated by [Changie](https://github.com/miniscruff/changie).

## v0.5.1 - 2024-04-11

### ğŸ”¨ Refactor

- SSH support was weak.
  While it would detect the upstream branch, the detection logic for repository name and project don't work on SSH cloned repos.
  Now the project name and repo name will be extracted for repos that follow the normal `dev.azure.com` structure.
  No support for `visualstudio.com` based references since you can use `dev.azure.com` style format with those anyway.

## v0.5.0 - 2024-03-27

### ğŸ‰ Feature

- Use `huh` charm library for an interactive terminal form that allows field navigation. This should let you tab through and edit values instead of restarting command if an error is made.

## v0.4.0 - 2024-03-12

### ğŸ‰ Feature

- When you choose the commit type, git history for last `n` months (set to 6 months currently), is evaluated and the top used scope for that commit type is presuggested. To accept, just press right arrow.

### ğŸ”¨ Refactor

- Migrate from pterm input to using `huh` a new charm library that provides a form that can allow toggling back and forth on the form as a normal TUI, allowing edits before submitting. This reduces some of the validation logic as well, but minor compromises made overall.

### â¬†ï¸ Dependencies

- Remove go toolchain reference as this causes failure from go install with earlier versions of go.

## v0.3.1 - 2023-09-18

### ğŸ”¨ Refactor

- Adjust the sort order to more commonly chosen values to the commit type top of the list.
- Behavior might have changed in Azure Repos, as noticed PR's didn't seem to honor the title of the PR during merge now. By setting `--merge-commit-message` my test shows it correctly sets. Note this means the `Merged #` prefix is no longer set upon merge.

## v0.3.0 - 2023-07-08

### ğŸ‰ Feature

- When using SSH, a target branch can't be automatically detected for the pull request creation.
  This will automatically evaluate for `main/master` and set for SSH as before. However, now when using https type clones, the target branch isn't set by default, which will create the pull request targeted at the default upstream branch.
  Eliminates any issues with repos that don't use `main` as convention (for example `dev/develop/trunk` as the main development branch).
- Occasionally tools like this run into issues... obviously not my code... \U0001F440\n\nWhen
  working through those, I'd have to keep rerunning the PR process.\nThis now outputs
  the escaped shell command that should reasonably work on windows/linux/mac on error
  (or debug).\n\nShould be a good quality of life for anyone using and running into a failure.

## v0.2.4 - 2023-05-10

### ğŸ› Bug Fix

- Fix string formatting issue with installAzureCLI.

## v0.2.3 - 2023-05-10

### ğŸ”¨ Refactor

- Don't install azure-cli if it is already found in path.

## v0.2.2 - 2023-05-10

### ğŸ› Bug Fix

- Add back code that was used.
  #ShouldHaveHadUnitTests
  #TDDWouldHaveSolvedThis

## v0.2.1 - 2023-05-10

### ğŸ”¨ Refactor

- Remove embedded bubbletea confetti call and just use the great `confetty` github project cli directly.

## v0.2.0 - 2023-02-16

### ğŸ‰ Feature

- When running `az-pr` by itself, it uses boa (powered by Bubbletea from Charm) to allow exploration of the subcommands and help content.
  This might be replaced later, but is a nice experiment for better user exploration without running `--help` on every level of subcommand.
- Link workitems via `az-pr new`.
  This runs a post step after creation due to limitations on the azure-cli to associate work-items on a created pull request.
  Whatever is linked will be automatically set to complete once the pull request is merged.
  Additionally, allow selection of draft true/false when creating.
- Enter into confetty mode after running. Rough work in progress, so press ctrl+c to exit after it triggers.
  Why? The world needs more confetty and tacos.

## v0.1.3 - 2023-02-13

### ğŸ”¨ Refactor

- The output from the azure-cli is now captured and parsed to construct a clickable url in the terminal output for the pull request. This helps support cases where the environment doesn't work with the azure-cli `--open` flag, such as devcontainers, remote ssh, and other remote environments.

### ğŸ› Bug Fix

- Fix output formatting that was using println without formatting directive in `init()` command.

## v0.1.2 - 2023-02-13

### ğŸ”¨ Refactor

- Windows will allow you to choose scoop, choco, or winget installation methods now. I opted to leave this to the user choice instead of automatically detecting as multiple package managers might be used on a dev machine.

## v0.1.1 - 2023-02-10

### ğŸ”¨ Refactor

- Made `Ctrl+C` termination output a warning instead of nasty red error messages. After all, I care about the user.
- Add mention of `az-pr check` at the top so that required environment variable is correctly configured. I might revisit the login method later to see if I can use SSO login with cli and not require the token. I've just done the token approach for so long and know it works. Will come back round eventually to that.
- Use bubbleteam multi-line input for the PR description, as it's a better editing experience. Survey is nice, but default template overhangs the same line and doesn't feel as nice.

## v0.1.0 - 2023-02-09

### ğŸ‰ Feature

- Initial release.
- Supports installation of azure cli for macOS & Linux.
- Detects branch `master` or `main` and if it can't find it, will prompt for input.

## v0.0.1 - 2023-02-08

### ğŸ¤– Development

- In progress. Initial check, init commands complete. The `new` command is not yet finished, requiring the invoking of the cli.
